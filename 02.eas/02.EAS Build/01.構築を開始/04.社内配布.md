# 内部配布の設定

## 1.ビルドプロファイルを構成する

eas.json を開き、iOS や Android 用の新しいビルド プロファイルを追加します。

```json
{
  "build": {
    "preview": {
      "distribution": "internal"
    }
  }
}
```

## 2.アプリ署名を構成する

### 2.1.Android のアプリ署名資格情報を構成する

Android はアプリケーションの配布を制限しません  
オペレーティング システムは互換性のある apk ファイルをインストールできます。

### 2.2.iOS のアプリ署名資格情報の構成

Apple は iPhone および iPad でのアプリケーションの配布を制限しているため、アプリケーションを実行できるデバイスを明示的にリストするアドホック プロビジョニング プロファイルを使用してアプリをビルドする必要があります。  
**アドホックでやれってこと**  
アドホック プロビジョニングの設定は、2 つの手順で構成されます。  
最初のステップでは、アプリをインストールできるようにするデバイスを登録します。  
次のコマンドを実行して、デバイスで開くことができる URL (および便宜上 QR コード) を生成し、登録ページの指示に従います。

```sh
$ eas device:create
```

**手動のローカル資格情報も使用できるよ**  
その場合は、credentials.json が、Apple Developer Portal を通じて生成したアドホックまたはエンタープライズ プロビジョニング プロファイルを指すようにしてください

## 3.内部ビルドプロファイルを使用してビルドを実行する

ビルド プロファイルとアプリ署名を設定したので、内部配布用のビルドの実行は、他のビルドと同じです。

```sh
$ eas build --profile preview --platform all
```

## 4.ビルドのインストールと実行

ビルド ページの [インストール] ボタンを押して、モーダルに表示される指示に従います。
